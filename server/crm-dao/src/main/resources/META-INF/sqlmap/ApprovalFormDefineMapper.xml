<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oasis.spiderman.dao.approvalFormDefine.ApprovalFormDefineDAO">
	
	<resultMap type="ApprovalFormDefineVO" id="ApprovalFormDefineMap">
        <result property="formType" column="form_type"/>
		<result property="keyword" column="key_word"/>
		<result property="formName" column="form_name"/>
		<result property="createdtime" column="created_time"/>
		<result property="updatedtime" column="updated_time"/>
        <result property="domainId" column="domain_id"/>
        <result property="creatorId" column="CREATOR_ID"/>
        <result property="updatorId" column="UPDATOR_ID"/>
    </resultMap>   
    
	<select id="findByType" parameterType="map" resultType="ApprovalFormDefine">
		SELECT * FROM WL_APPROVAL_DEFINE ad WHERE ad.form_type = #{type:VARCHAR}
	</select>
	
	<select id="find" parameterType="long" resultType="ApprovalFormDefine">
        <include refid="sqlmap.common.model.find" />
	</select>
	
	<select id="selectPageList" parameterType="ApprovalFormDefineSO" resultMap="ApprovalFormDefineMap">
		SELECT * FROM WL_APPROVAL_DEFINE ad 
		<include refid="pageListClause" />
	</select>
	
	<select id="selectCount" resultType="int" parameterType="ApprovalFormDefineSO">
        select count(1) from WL_APPROVAL_DEFINE t
        <include refid="pageListClause" />
    </select>
    
	<sql id="pageListClause">
        where 1=1
        <if test="formType!=null and formType!='' ">
        and t.form_type like '%'|| #{formType}||'%'
        </if>
        <if test="keyword!=null and keyword!='' ">
        and t.site_code like '%'|| #{keyword}||'%'
        </if>
        <if test="formName!=null and formName!='' ">
        and t.form_name like '%'|| #{formName}||'%'
        </if>
    </sql>
</mapper>